{"componentChunkName":"component---src-templates-blog-post-js","path":"/hide-and-disable-actor/","result":{"data":{"site":{"siteMetadata":{"title":"Unreal C++"}},"markdownRemark":{"id":"112e60fb-104d-5d46-8838-b171fe571647","excerpt":"Github Link: https://github.com/Harrison1/unrealcpp/tree/master/HideActor For this tutorial we are using the standard first person C++ template with starterâ€¦","html":"<p><strong>Github Link: <a href=\"https://github.com/Harrison1/unrealcpp/tree/master/HideActor\">https://github.com/Harrison1/unrealcpp/tree/master/HideActor</a></strong></p>\n<p><em>For this tutorial we are using the standard first person C++ template with starter content. If you don't know how to add a new actor class to your project, please visit the <a href=\"/add-actor-class\">Add C++ Actor Class</a> post.</em></p>\n<p>To completely hide an actor in game you have to do three things. You have to disable it's collision, disable it from ticking, and hide it in game.</p>\n<p>You can add the code to any actor. For this example I created a separate actor demonstrate its purpose.</p>\n<p>Create an actor called <code>HideActor</code>. If you call your actor another name, be sure to change it throughout the code. In the header file I create two variables; <code>bool HideInGame</code> to track if we want to disable the actor and <code>void DisableActor</code> to run through all the elements we need to disable.\nWe put both variables in the <code>Disable</code> category to keep them separate from the actor's other attributes.</p>\n<h3>HideActor.h</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">pragma</span> <span class=\"token expression\">once</span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"CoreMinimal.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"GameFramework/Actor.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"HideActor.generated.h\"</span></span>\n\n<span class=\"token function\">UCLASS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UNREALCPP_API</span> AHideActor <span class=\"token operator\">:</span> <span class=\"token keyword\">public</span> AActor\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">GENERATED_BODY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t<span class=\"token comment\">// Called when the game starts or when spawned</span>\n\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\t\n\t<span class=\"token comment\">// Called every frame</span>\n\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> DeltaTime<span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">UPROPERTY</span><span class=\"token punctuation\">(</span>EditAnywhere<span class=\"token punctuation\">,</span> Category <span class=\"token operator\">=</span> <span class=\"token string\">\"Disable\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">bool</span> HideInGame<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">UFUNCTION</span><span class=\"token punctuation\">(</span>BlueprintCallable<span class=\"token punctuation\">,</span> Category <span class=\"token operator\">=</span> <span class=\"token string\">\"Disable\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">void</span> <span class=\"token function\">DisableActor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">bool</span> toHide<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>On <code>BeginPlay()</code> we check to see if <code>HideInGame</code> is true. If <code>true</code> we run <code>DisableActor()</code>. <code>DisableActor()</code> hides the actor, disable it's collisions, and disable it from running every frame.</p>\n<h3>HideActor.cpp</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"HideActor.h\"</span></span>\n\n<span class=\"token comment\">// Called when the game starts or when spawned</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">AHideActor</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Super</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>HideInGame<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span> \n\t\t<span class=\"token function\">DisableActor</span><span class=\"token punctuation\">(</span>HideInGame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\t<span class=\"token punctuation\">}</span>\n\t\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Called every frame</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">AHideActor</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> DeltaTime<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Super</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span>DeltaTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">AHideActor</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">DisableActor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">bool</span> toHide<span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// Hides visible components</span>\n\t<span class=\"token function\">SetActorHiddenInGame</span><span class=\"token punctuation\">(</span>toHide<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Disables collision components</span>\n\t<span class=\"token function\">SetActorEnableCollision</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Stops the Actor from ticking</span>\n\t<span class=\"token function\">SetActorTickEnabled</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Hide and Disable Actor in Game","date":"November 30, 2017","description":"You have to do three things to completely hide an actor in game","image":"https://res.cloudinary.com/dz09rnbhe/image/upload/unrealcpp/hide-actor_oqlvf7.jpg","tags":["beginner"],"video":"YzPqBxhDa2Q","uev":"4.18.3"}},"previous":{"fields":{"slug":"/find-player-position/"},"frontmatter":{"title":"Find Player Position"}},"next":{"fields":{"slug":"/get-number-of-pawns/"},"frontmatter":{"title":"Get Number of Pawns"}}},"pageContext":{"id":"112e60fb-104d-5d46-8838-b171fe571647","previousPostId":"14d42b2c-94c1-507f-8e1d-93c5b9d01734","nextPostId":"d5674f2d-9470-5a07-b74b-471a7ac8b52c"}},"staticQueryHashes":[],"slicesMap":{}}