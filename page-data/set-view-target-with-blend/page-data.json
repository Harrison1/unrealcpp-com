{"componentChunkName":"component---src-templates-blog-post-js","path":"/set-view-target-with-blend/","result":{"data":{"site":{"siteMetadata":{"title":"Unreal C++"}},"markdownRemark":{"id":"f913228a-bec7-560b-b5d1-75b5c37420c0","excerpt":"Github Link: https://github.com/Harrison1/unrealcpp/tree/master/SetViewTargetBlend For this tutorial we are using the standard first person C++ template withâ€¦","html":"<p><strong>Github Link: <a href=\"https://github.com/Harrison1/unrealcpp/tree/master/SetViewTargetBlend\">https://github.com/Harrison1/unrealcpp/tree/master/SetViewTargetBlend</a></strong></p>\n<p><em>For this tutorial we are using the standard first person C++ template with starter content. If you don't know how to add a new actor class to your project, please visit the <a href=\"/add-actor-class\">Add C++ Actor Class</a> post.</em></p>\n<p>In this simple tutorial we will simply change the view target of the player with smooth blending movement when the game begins.</p>\n<p>Create a new <code>C++</code> actor class and call it <strong>SetViewTargetBlend</strong>. In the header file we will declare an actor variable and call it <strong>MyActor</strong>. Make the new actor editable anywhere.</p>\n<h3>SetViewTargetBlend.h</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">pragma</span> <span class=\"token expression\">once</span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"CoreMinimal.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"GameFramework/Actor.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"SetViewTargetBlend.generated.h\"</span></span>\n\n<span class=\"token function\">UCLASS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UNREALCPP_API</span> ASetViewTargetBlend <span class=\"token operator\">:</span> <span class=\"token keyword\">public</span> AActor\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">GENERATED_BODY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\t\n\t<span class=\"token comment\">// Sets default values for this actor's properties</span>\n\t<span class=\"token function\">ASetViewTargetBlend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">protected</span><span class=\"token operator\">:</span>\n\t<span class=\"token comment\">// Called when the game starts or when spawned</span>\n\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\t\n\t<span class=\"token comment\">// Called every frame</span>\n\t<span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> DeltaTime<span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// declare variables</span>\n\t<span class=\"token function\">UPROPERTY</span><span class=\"token punctuation\">(</span>EditAnywhere<span class=\"token punctuation\">)</span>\n\tAActor<span class=\"token operator\">*</span> MyActor<span class=\"token punctuation\">;</span>\n\t\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>First, in order to possess the player we need to <code>#include</code> the <code>Kismet/GameplayStatics.h</code> file.</p>\n<h4>include files</h4>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"SetViewTargetBlend.h\"</span></span>\n<span class=\"token comment\">// include gameplay statics header file</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"Kismet/GameplayStatics.h\"</span></span></code></pre></div>\n<p>In this example all of our logic will go inside the <code>BeginPlay</code> function. We need to possess the current player by doing <code>UGameplayStatics::GetPlayerController(this, 0)</code>. This will get the first player in the game scene. Next we are going to set our possessed player's view target with to our <code>MyActor</code> variable by using <code>SetViewTargetWithBlend(MyActor, 2.f)</code>. We set the blending time to 2 seconds, this will indicate how long it will take for the camera to move to the new target. Below is the final <code>.cpp</code> file.</p>\n<h3>SetViewTargetBlend.cpp</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"SetViewTargetBlend.h\"</span></span>\n<span class=\"token comment\">// include gameplay statics header file</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"Kismet/GameplayStatics.h\"</span></span>\n\n\n<span class=\"token comment\">// Sets default values</span>\n<span class=\"token class-name\">ASetViewTargetBlend</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ASetViewTargetBlend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n \t<span class=\"token comment\">// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don't need it.</span>\n\tPrimaryActorTick<span class=\"token punctuation\">.</span>bCanEverTick <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Called when the game starts or when spawned</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">ASetViewTargetBlend</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Super</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">BeginPlay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//Find the actor that handles control for the local player.</span>\n\tAPlayerController<span class=\"token operator\">*</span> OurPlayerController <span class=\"token operator\">=</span> <span class=\"token class-name\">UGameplayStatics</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">GetPlayerController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token comment\">//Smoothly transition to our actor on begin play.</span>\n\tOurPlayerController<span class=\"token operator\">-></span><span class=\"token function\">SetViewTargetWithBlend</span><span class=\"token punctuation\">(</span>MyActor<span class=\"token punctuation\">,</span> <span class=\"token number\">2.f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Called every frame</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">ASetViewTargetBlend</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> DeltaTime<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Super</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Tick</span><span class=\"token punctuation\">(</span>DeltaTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Compile the code. Drag and drop your new actor into your game. In the editor add a static mesh to the <code>MyActor</code> variable in the actor's detail's panel. Push play and the player's camera will move over to the new actor in 2 seconds.</p>","frontmatter":{"title":"Set View Target With Blend","date":"December 01, 2017","description":"A tutorial on how to change the view target of the current player with smooth blending movement.","image":"https://res.cloudinary.com/dz09rnbhe/image/upload/unrealcpp/set-view-target-with-blend_qdc2za.jpg","tags":["view target"],"video":"jv78jI5OD00","uev":"4.18.3"}},"previous":{"fields":{"slug":"/set-view-target/"},"frontmatter":{"title":"Set View Target"}},"next":{"fields":{"slug":"/timer-actor/"},"frontmatter":{"title":"Timer Actor"}}},"pageContext":{"id":"f913228a-bec7-560b-b5d1-75b5c37420c0","previousPostId":"d31e479b-8034-5643-bd87-2bb2d48df198","nextPostId":"b0273a3d-94b9-5272-a29f-70c967804282"}},"staticQueryHashes":[],"slicesMap":{}}